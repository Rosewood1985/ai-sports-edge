# AI Sports Edge Component Dependency Graph

This document provides a visual representation of the dependencies between major components in the AI Sports Edge application. Understanding these relationships is crucial for planning refactoring and cleanup efforts.

## Core Infrastructure Dependencies

```
┌─────────────────────────────────────────────────────────────────┐
│                      Firebase Configuration                      │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Firebase App (Core)                       │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│   Firebase Auth   │  │ Firebase Firestore │  │ Firebase Storage│
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          ▼                       ▼                     ▼
┌─────────────────┐     ┌──────────────────┐    ┌─────────────────┐
│ Authentication  │     │   Data Services  │    │  Media Services │
│    Services     │     │                  │    │                 │
└────────┬────────┘     └────────┬─────────┘    └────────┬────────┘
         │                       │                       │
         └───────────────────────┼───────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Application Services                       │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│  User Services    │  │  Betting Services  │  │ Payment Services│
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          └───────────────────────┼───────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                          UI Components                           │
└─────────────────────────────────────────────────────────────────┘
```

## Atomic Design Component Hierarchy

```
┌─────────────────────────────────────────────────────────────────┐
│                            Templates                             │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   MainLayout    │  │  AuthLayout     │  │  ProfileLayout  │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                            Organisms                             │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Header        │  │  BettingCard    │  │  UserProfile    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Footer        │  │  OddsComparison │  │  PaymentForm    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                            Molecules                             │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │  NavBar         │  │  LoginForm      │  │  OddsCard       │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │  SearchBar      │  │  SignupForm     │  │  BetSlip        │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │  UserMenu       │  │  AlertMessage   │  │  GameStats      │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                             Atoms                                │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │  Button         │  │  Input          │  │  Text           │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │  Icon           │  │  Checkbox       │  │  Spinner        │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │  Card           │  │  Badge          │  │  Avatar         │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## Firebase Service Dependencies

```
┌─────────────────────────────────────────────────────────────────┐
│                        Firebase App                              │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│   Firebase Auth   │  │ Firebase Firestore │  │ Firebase Storage│
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          ▼                       ▼                     ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Firebase Functions                          │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│ Authentication    │  │ Data Processing    │  │ File Processing │
│ Functions         │  │ Functions          │  │ Functions       │
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          │                       │                     │
          ▼                       ▼                     ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│ User Management   │  │ Betting Processing │  │ Media Processing│
└───────────────────┘  └────────────────────┘  └─────────────────┘
```

## Screen Navigation Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                         Splash Screen                            │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Authentication                            │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│   Login Screen    │  │   Signup Screen    │  │ Password Reset  │
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          └───────────────────────┼───────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                          Main Navigation                         │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│   Home Screen     │  │   Betting Screen   │  │  Profile Screen │
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          │                       │                     │
          ▼                       ▼                     ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│  News Feed        │  │  Odds Comparison   │  │ User Settings   │
└───────────────────┘  └────────────────────┘  └─────────────────┘
```

## Data Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                         External APIs                            │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        API Services Layer                        │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Data Processing Layer                     │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        State Management                          │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│   User State      │  │   Betting State    │  │  UI State       │
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          └───────────────────────┼───────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                          UI Components                           │
└─────────────────────────────────────────────────────────────────┘
```

## Authentication Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                         User Interaction                         │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Authentication UI                         │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Authentication Service                       │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Firebase Auth                             │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│ Email/Password    │  │  Social Auth       │  │ Anonymous Auth  │
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          └───────────────────────┼───────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                        User Profile                              │
└─────────────────────────────────────────────────────────────────┘
```

## Betting Flow

```
┌─────────────────────────────────────────────────────────────────┐
│                         Sports Data APIs                         │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Data Processing                           │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Odds Comparison                           │
└───────────┬─────────────────────┬────────────────────┬──────────┘
            │                     │                    │
            ▼                     ▼                    ▼
┌───────────────────┐  ┌────────────────────┐  ┌─────────────────┐
│   Moneyline       │  │    Spread          │  │     Total       │
└─────────┬─────────┘  └──────────┬─────────┘  └────────┬────────┘
          │                       │                     │
          └───────────────────────┼───────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Betting Slip                              │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Affiliate Links                           │
└─────────────────────────────────────────────────────────────────┘
```

## Key Insights from Dependency Analysis

1. **Firebase Centrality**: Firebase services are central to the application architecture, with multiple components depending on them.

2. **Authentication Dependencies**: The authentication flow is a critical path that affects multiple parts of the application.

3. **Betting Data Flow**: The betting functionality relies on external APIs and data processing before reaching the UI.

4. **Component Hierarchy**: The atomic design pattern is partially implemented, with some components following the hierarchy and others not.

5. **Navigation Complexity**: The screen navigation flow shows multiple entry points and complex navigation paths.

## Recommendations Based on Dependency Analysis

1. **Consolidate Firebase Services**: Create a single, well-documented Firebase service layer that all components can depend on.

2. **Simplify Authentication Flow**: Streamline the authentication flow to reduce dependencies and improve maintainability.

3. **Standardize Data Flow**: Implement a consistent data flow pattern for all external API integrations.

4. **Complete Atomic Design Implementation**: Ensure all components follow the atomic design hierarchy.

5. **Simplify Navigation**: Reduce navigation complexity by standardizing navigation patterns.

By addressing these recommendations, the application will have clearer dependencies, improved maintainability, and better scalability.